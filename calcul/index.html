<!DOCTYPE html>
<html dir="rtl" lang="ar">
<meta name="viewport" content="width=device-width, initial-scale=1.4">
<meta charset="UTF-8">
<body>

<h3>حاسبة إدارة رأس المال</h3>
  
  <input type="number" id="fnumber" name="fnumber" placeholder="سعر الدخول" /><br><br>
  <input type="number" id="lnumber" name="lnumber" placeholder="وقف الخسارة" /><br><br>
  <input type="number" id="goal" name="goal" placeholder="الهدف" /><br><br>
  <input type="number" id="fonumber" name="fonumber" placeholder="مبلغ الاستثمار"><br><br>
  <input type="number" id="tnumber" name="tnumber" placeholder="نسبة الخسارة المتحملة"><br><br>

  <button onclick=calculate()>  النتيجة  </button>
  
 <h5 id="r"></h5>
 <h5 id="h"></h5>
 <h5 id="p"></h5>
 <!-- <h5 id="l"></h5> -->
  


<script>

let fnumber = document.querySelector('#fnumber')
let mygoal = document.querySelector('#goal')

let lnumber = document.querySelector('#lnumber')

let tnumber = document.querySelector('#tnumber')
let fonumber = document.querySelector('#fonumber')


document.querySelector('#r').innerText = "الرافعة المالية :   "
document.querySelector('#h').innerText = "حجم الاستثمار :     "
document.querySelector('#p').innerText = "الأرباح:      "

//document.querySelector('#l').innerText = "الخسائر :      "

function calculate() {

    document.querySelector('#r').innerText = "الرافعة المالية :   "

    document.querySelector('#h').innerText = " حجم الاستثمار :      "
    
    document.querySelector('#p').innerText = " الأرباح :      "
    
    //document.querySelector('#l').innerText = " الخسائر :      "

    let fnum = Number(fnumber.value)
    let lnum = Number(lnumber.value)
    
    let first = 0
    let biger = 0 

    if (fnum > lnum ) {
        biger = fnum
        first = fnum - lnum
    } else {
        biger = lnum
        first = lnum - fnum
    }
    
    let second = first / biger

    console.log("s", second)
    
    let third = second * 100

    console.log( "th; ", third)

    let tnum = Number(tnumber.value) // === 0 ? 60 : Number(tnumber)
    console.log("tn", tnum)
    
    let firsResult = tnum / third 

    console.log("fr", firsResult)

    let fonum = Number(fonumber.value)
    //console.log(fonum)

    let result = firsResult * fonum
    console.log(result)


// second opiration: arbah
    let goal = Number(mygoal.value)
    let opi2
    let biger2 = 0

    if( fnum > goal) {
        opi2 = fnum - goal 
        biger2 = fnum
    } else {
        opi2 = goal - fnum
        biger2 = goal
    }

    let resOp2 = opi2 / biger2
    let resOp3 = resOp2*100


    let newResult = result / 100

    let lastResult = newResult * resOp2


    // show results : 

    document.querySelector('#r').innerHTML += "x"+firsResult.toString().split(".")[0];
    document.querySelector('#h').innerHTML += result.toString().split(".")[0]+"$";

    document.querySelector('#p').innerHTML += lastResult.toString().split(".")[0]+"$";
    
        //document.querySelector('#l').innerHTML += lose.toString().split(".")[0]+"$";
    
    // console.log(fnum + lnum)
}

</script>

</body>
</html>
